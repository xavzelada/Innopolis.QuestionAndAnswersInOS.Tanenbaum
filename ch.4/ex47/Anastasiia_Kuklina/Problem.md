# Problem - Chapter 4 task 47
Implement  a  program  to  measure  the  impact  of  application-level buffer  sizes  on  read time. This involves writing to and reading from a large file (say, 2 GB). Vary the appli- cation buffer size (say, from 64 bytes to 4 KB). Use timing measurement routines (such as gettimeofday and getitimer on UNIX) to measure the time taken for different buffer
sizes. Analyze the results and report your findings: does buffer size make a difference to the overall write time and per-write time?

## Solution description

#### Files: 
* `lorem.txt` - Input Text file, size: 626,9 MiB (657 309 852)
* `output.txt` - Output text file
* `solution.c` - C programm to measure the impact of application-level buffer sizes on read time

Text was generated by website `https://www.lipsum.com/`, `Ctrl+C` and `Ctrl+C` commands

#### To execute:
1. `gcc solution.c -o solution` - to compile
2. `./solution N` - to execute, where `N` buffer size in bytes

#### Code notes:
Function `rewrite(int* file_in, int* file_out, int BUFF_SIZE)` - reads from input file and writes to the output using buffer of set size
`struct timeval t1, t2` - variables to capture time


#### Results:
|Buffer size (bytes)|Per write time| Overall write time|
|----|-------------|------------------|
|64  | 0.035928 ms | 369000.000000 ms |
|128 | 0.035636 ms | 183000.000000 ms |
|256 | 0.035052 ms | 90000.000000 ms  |
|512 | 0.032715 ms | 42000.000000 ms  |
|1024| 0.035831 ms | 23000.000000 ms  |
|2048| 0.034273 ms | 11000.000000 ms  |

#### Conclusion:
1. `Write time` - is nearly a constant
1. By increasing `buffer size` - we can reduce `overall write time`

```
    Made by Anastasiia Kuklina 
    Innopolis University
    Group BS20-04
    For Operating Systems course
```
